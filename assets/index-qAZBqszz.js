import{r as x,j as e,C as l,T as F,B as D,a as T,b as j,h as M,D as h,A as w,c as E,O,d as S,W as k,e as W,R as B}from"./vendor-yH3i_VsD.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function d(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=d(t);fetch(t.href,i)}})();const y="ad4f32f6e2e63709a38b6d50bd12c7d1",L=()=>{const[c,n]=x.useState(""),[d,o]=x.useState([]),[t,i]=x.useState(),[s,v]=x.useState("metric"),N=async()=>{try{const a=await w.get(`https://api.openweathermap.org/data/2.5/weather?q=${c}&units=${s}&appid=${y}`);i(a.data),console.log(a.data);const r=await w.get(`https://api.openweathermap.org/data/2.5/forecast?q=${c}&units=${s}&appid=${y}`);o(r.data.list),console.log(r.data.list)}catch{alert("Invalid City Name")}},b=(a,r)=>{r&&v(r)},m=a=>a*(9/5)+32,u=a=>{switch(a){case"Clear":return e.jsx(k,{className:"!text-[yellow] !text-5xl "});case"Clouds":return e.jsx(S,{className:"!text-sky-500 !text-5xl"});case"Rain":return e.jsx(O,{className:"!text-white !text-5xl"});default:return e.jsx(E,{className:"!text-sky-500  !text-5xl"})}},C=a=>{const r=[],p=[];return a.forEach(f=>{const g=new Date(f.dt*1e3).toLocaleDateString();p.includes(g)||(p.push(g),r.push(f))}),r};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-[100vw] h-[100vh] bg-black  flex  !flex-wrap justify-center items-center",children:[e.jsxs(l,{className:"p-2 flex flex-wrap justify-center items-center gap-4 mt-5",children:[e.jsx("div",{className:"bg-transparent text-3xl p-1 text-black text-center",children:"WEATHER FORECAST"}),e.jsx(F,{className:"!bg-white !text-white",size:"small",label:"City",placeholder:"Enter City Name",type:"text",value:c,onChange:a=>n(a.target.value)}),e.jsx(D,{className:"w-12  h-9 !bg-black !text-white !rounded-lg !capitalize",onClick:N,variant:"contained",children:"Check"}),e.jsxs(T,{size:"small",value:s,exclusive:!0,onChange:b,"aria-label":"temperature unit",className:"flex gap-4 justify-center items-center",children:[e.jsx(j,{className:"!bg-black !text-white !capitalize  !text-sm !rounded-lg",value:"metric","aria-label":"celsius",children:"Temp in °C"}),e.jsx(j,{className:"!bg-black !text-white !capitalize  !text-sm !rounded-lg",value:"imperial","aria-label":"fahrenheit",children:"Temp in °F"})]})]}),e.jsx(l,{className:"flex !bg-transparent  p-5",children:t&&e.jsxs("div",{className:"",children:[e.jsx("div",{className:"!text-4xl   mb-4 flex items-center justify-center",children:e.jsxs("div",{className:"!text-white mt-14 font-semibold",children:[u(t.weather[0].main)," ",t.name," ",t.sys.country," ",Math.round(s==="metric"?t.main.temp:m(t.main.temp))," ",s==="metric"?"°C":"°F"]})}),e.jsxs("div",{className:"bg-black !flex !flex-col items-center  font-semibold font-sans",children:[e.jsx("div",{className:"!text-white text-lg",children:t.weather[0].description}),e.jsx("div",{className:"!text-white text-xl",children:M().format("dddd")})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(l,{className:"!bg-transparent !text-white !rounded-full !shadow-2xl shadow-blue-500 p-5",children:["Humidity: ",Math.round(t.main.humidity)," %",e.jsx("div",{children:e.jsx(h,{})}),"Weather: ",t.weather[0].description]}),e.jsxs(l,{className:"!bg-transparent !text-white !rounded-full p-5",children:["Wind speed: ",Math.round(t.wind.speed)," km/h",e.jsx("div",{children:e.jsx(h,{})}),"Wind Direction: ",Math.round(t.wind.deg)," °"]}),e.jsxs(l,{className:"!bg-transparent !text-white !rounded-full p-5",children:["Max Temp:"," ",Math.round(s==="metric"?t.main.temp_max:m(t.main.temp_max))," ",s==="metric"?"°C":"°F",e.jsx("div",{children:e.jsx(h,{})}),"Min Temp:"," ",Math.round(s==="metric"?t.main.temp_min:m(t.main.temp_min))," ",s==="metric"?"°C":"°F"]})]})]})}),e.jsx("div",{className:"!bg-black flex !flex-wrap",children:d.length>0&&e.jsx("div",{className:"flex flex-wrap !justify-evenly rounded-lg  ",children:C(d).map((a,r)=>e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[u(a.weather[0].main),e.jsxs("div",{className:"!text-white",children:["Temp:"," ",Math.round(s==="metric"?a.main.temp:m(a.main.temp))," ",s==="metric"?"°C":"°F"]}),e.jsx("div",{className:"!text-white",children:a.weather[0].description}),e.jsx("div",{className:"!text-white ml-2",children:new Date(a.dt*1e3).toLocaleDateString("en-GB",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"})})]})},r))})})]})})};function R(){return e.jsx(e.Fragment,{children:e.jsx(L,{})})}W.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(R,{})}));
